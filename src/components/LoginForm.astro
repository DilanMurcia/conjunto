---
const handleSubmit = async (event) => {
  event.preventDefault();
  const formData = new FormData(event.target);
  const response = await fetch('/api/login', {
    method: 'POST',
    body: formData,
  });
  const result = await response.json();
  if (result.success) {
    window.location.href = '/administration/consulta-cuenta-cobro';
  } else {
    alert('Login failed: ' + result.message);
  }
};
---

<form on:submit={handleSubmit} class="w-full max-w-sm">
  <label for="username" class="block text-sm font-medium text-gray-700">Nombre de Usuario</label>
  <input type="text" id="username" name="username" class="mt-1 p-2 border border-gray-300 rounded-md w-full" required />

  <label for="password" class="block text-sm font-medium text-gray-700 mt-4">Contraseña</label>
  <input type="password" id="password" name="password" class="mt-1 p-2 border border-gray-300 rounded-md w-full" required />

  <button type="submit" class="mt-4 bg-blue-500 text-white p-2 rounded-md">Iniciar Sesión</button>
</form>
